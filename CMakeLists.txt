project(libsv)

set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -DSV_CONFIG")

include_directories(${CMAKE_CURRENT_SOURCE_DIR}/../src)

# include autogenerated header
include_directories(${CMAKE_CURRENT_BINARY_DIR}/../src)

message("RASQAL_CORE_INCLUDES ${RASQAL_CORE_INCLUDES}")

# Get all Rasqal include directories
include_directories(${RASQAL_CORE_INCLUDES})
# foreach(d ${RASQAL_CORE_INCLUDES})
#   include_directories(${d})
# endforeach()

set(LIBSV_SOURCES sv.c option.c write.c parse.c sv.h)

add_library(sv ${LIBSV_SOURCES})

add_executable(svtest svtest.c)
target_link_libraries(svtest sv)
add_test(NAME svtest COMMAND svtest)

add_executable(example example.c)
target_link_libraries(example sv)

add_executable(sv2c sv2c.c)
target_link_libraries(sv2c sv)